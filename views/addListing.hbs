<h1>{{title}}</h1>
<form action="/add-listing" method="POST" class="listing-form" id="addListingForm">
    <!-- Basic Information -->
    <div class="form-section">
        <h3>Basic Information</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="id">Listing ID:</label>
                <input type="text" id="id" name="id" required minlength="1" placeholder="e.g., 10012546">
                <small class="form-hint">Unique identifier for the listing</small>
            </div>
            
            <div class="form-group">
                <label for="NAME">Listing Name:</label>
                <input type="text" id="NAME" name="NAME" required minlength="2" placeholder="e.g., Clean & quiet apt home by the park">
                <small class="form-hint">Descriptive name for your listing</small>
            </div>
        </div>
    </div>

    <!-- Host Information -->
    <div class="form-section">
        <h3>Host Information</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="host_id">Host ID:</label>
                <input type="text" id="host_id" name="host_id" required minlength="1" placeholder="e.g., 80014485345">
            </div>
            
            <div class="form-group">
                <label for="host_name">Host Name:</label>
                <input type="text" id="host_name" name="host_name" required minlength="2" placeholder="e.g., John Smith">
            </div>
            
            <div class="form-group">
                <label for="host_identity_verified">Host Identity Verified:</label>
                <select id="host_identity_verified" name="host_identity_verified">
                    <option value="verified">Verified</option>
                    <option value="unconfirmed" selected>Unconfirmed</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Pricing -->
    <div class="form-section">
        <h3>Pricing & Fees</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="price">Price per Night:</label>
                <input type="text" id="price" name="price" required pattern="^\$?[0-9]+(\.[0-9]{2})?$" placeholder="$966">
                <small class="form-hint">Format: $966 or 966.00</small>
            </div>
            
            <div class="form-group">
                <label for="service_fee">Service Fee:</label>
                <input type="text" id="service_fee" name="service_fee" placeholder="$0" value="$0">
                <small class="form-hint">Additional service fee</small>
            </div>
        </div>
    </div>

    <!-- Property Details -->
    <div class="form-section">
        <h3>Property Details</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="room_type">Room Type:</label>
                <select id="room_type" name="room_type" required>
                    <option value="">Select Room Type</option>
                    <option value="Private room">Private room</option>
                    <option value="Entire home/apt">Entire home/apt</option>
                    <option value="Shared room">Shared room</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="property_type">Property Type:</label>
                <select id="property_type" name="property_type" required>
                    <option value="">Select Property Type</option>
                    <option value="apartment">Apartment</option>
                    <option value="loft">Loft</option>
                    <option value="house">House</option>
                    <option value="condo">Condo</option>
                    <option value="townhouse">Townhouse</option>
                    <option value="studio">Studio</option>
                    <option value="bungalow">Bungalow</option>
                    <option value="villa">Villa</option>
                    <option value="guesthouse">Guesthouse</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Location -->
    <div class="form-section">
        <h3>Location</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="neighbourhood_group">Neighbourhood Group:</label>
                <select id="neighbourhood_group" name="neighbourhood_group" required>
                    <option value="">Select Neighbourhood Group</option>
                    <option value="Manhattan">Manhattan</option>
                    <option value="Brooklyn">Brooklyn</option>
                    <option value="Queens">Queens</option>
                    <option value="Bronx">Bronx</option>
                    <option value="Staten Island">Staten Island</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="neighbourhood">Neighbourhood:</label>
                <input type="text" id="neighbourhood" name="neighbourhood" required minlength="2" placeholder="e.g., Kensington">
            </div>
        </div>
    </div>

    <!-- Stay Details -->
    <div class="form-section">
        <h3>Stay Details</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="minimum_nights">Minimum Nights:</label>
                <input type="number" id="minimum_nights" name="minimum_nights" min="1" value="1" required>
                <small class="form-hint">Minimum stay requirement</small>
            </div>
            
            <div class="form-group">
                <label for="availability_365">Availability (Days/Year):</label>
                <input type="number" id="availability_365" name="availability_365" min="0" max="365" value="365" required>
                <small class="form-hint">Days available per year (0-365)</small>
            </div>
        </div>
    </div>

    <!-- Reviews & Ratings -->
    <div class="form-section">
        <h3>Reviews & Ratings</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="review_rate_number">Rating (1-5):</label>
                <select id="review_rate_number" name="review_rate_number" required>
                    <option value="0">No rating</option>
                    <option value="1">1 Star</option>
                    <option value="2">2 Stars</option>
                    <option value="3">3 Stars</option>
                    <option value="4" selected>4 Stars</option>
                    <option value="5">5 Stars</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="number_of_reviews">Number of Reviews:</label>
                <input type="number" id="number_of_reviews" name="number_of_reviews" min="0" value="0" required>
            </div>
        </div>
    </div>

    <!-- Additional Information -->
    <div class="form-section">
        <h3>Additional Information</h3>
        <div class="form-group">
            <label for="cancellation_policy">Cancellation Policy:</label>
            <select id="cancellation_policy" name="cancellation_policy" required>
                <option value="flexible">Flexible</option>
                <option value="moderate" selected>Moderate</option>
                <option value="strict">Strict</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="instant_bookable">Instant Bookable:</label>
            <select id="instant_bookable" name="instant_bookable" required>
                <option value="TRUE">Yes</option>
                <option value="FALSE" selected>No</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="house_rules">House Rules:</label>
            <textarea id="house_rules" name="house_rules" placeholder="Enter house rules (optional)" rows="3"></textarea>
        </div>
    </div>

    <!-- Images -->
    <div class="form-section">
        <h3>Images</h3>
        <div class="form-group">
            <label for="thumbnail">Thumbnail URL:</label>
            <input type="url" id="thumbnail" name="thumbnail" required placeholder="https://example.com/main-image.jpg">
            <small class="form-hint">Main image URL for the listing</small>
        </div>
        
        <div class="form-group">
            <label for="images">Additional Image URLs (comma separated):</label>
            <textarea id="images" name="images" placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg" rows="3"></textarea>
            <small class="form-hint">Optional: Add multiple image URLs separated by commas</small>
        </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
        <button type="submit" class="btn btn-primary">Add Listing</button>
        <a href="/listings" class="btn btn-edit">Cancel</a>
    </div>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('addListingForm');
    
    // Client-side validation
    form.addEventListener('submit', function(e) {
        let isValid = true;
        const requiredFields = form.querySelectorAll('[required]');
        
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.style.borderColor = '#ff4444';
            } else {
                field.style.borderColor = '';
            }
        });
        
        if (!isValid) {
            e.preventDefault();
            alert('Please fill all required fields marked in red.');
        }
    });

    // Auto-format price field
    const priceInput = document.getElementById('price');
    priceInput.addEventListener('blur', function() {
        let value = this.value.replace(/[^\d.]/g, '');
        if (value && !value.startsWith('$')) {
            this.value = '$' + value;
        }
    });

    // Auto-format service fee field
    const serviceFeeInput = document.getElementById('service_fee');
    serviceFeeInput.addEventListener('blur', function() {
        let value = this.value.replace(/[^\d.]/g, '');
        if (value && !value.startsWith('$')) {
            this.value = '$' + value;
        }
    });
});
</script>